## Architectural Update: Deterministic Validation and Batch Cost Efficiency

Earlier versions of the Terra Dourada Oracle pipeline included an additional
post-quantum (PQC) hashing/signing step after proof aggregation.

This step has been **intentionally removed**.

The reason is not only architectural clarity, but **economic and computational efficiency**.

---

### Why the Intermediate PQC Step Was Removed

In the initial design:
- Proofs were generated and aggregated
- A hybrid PQC-based hash was applied after aggregation
- The resulting value was anchored on-chain

After reviewing the full flow, this step was identified as **redundant**.

The system already enforces a **hybrid, PQC-derived hash at the root of the process**,
before aggregation and anchoring.

Applying an additional PQC transformation after aggregation:
- does not increase security
- does not strengthen finality
- does not improve auditability
- but **does increase computation and operational cost**

Because of this, the extra PQC step was removed.

---

### Current Validation Flow (Efficient by Design)

The current pipeline operates as follows:

1. Proofs are generated by the prover
2. Proofs are **validated deterministically by the Robot**
3. Invalid proofs are discarded immediately
4. Only **validated proofs** are aggregated
5. A single **hybrid, PQC-derived batch root** is produced
6. Only this final batch root is anchored on-chain

There is **no additional cryptographic transformation after Robot approval**.

The on-chain commitment always references a root that is already PQC-secured.

---

### Batch Cost Efficiency (Key Property)

Only **one transaction** is sent on-chain per batch, regardless of how many events it contains.

Observed execution cost:
- **Transaction fee:** `~0.000005 SOL`
- **Network:** Solana devnet
- **On-chain payload:** a single batch root hash

This means:

> Anchoring 1 event or anchoring 1,000 events costs approximately the same.

Why this matters:
- On-chain cost does **not scale with event volume**
- Heavy cryptography runs off-chain exactly once
- Aggregation amortizes cost across the entire batch

This design enables:
- continuous IoT data streams
- high-frequency field events
- long-running oracle services

Without introducing prohibitive blockchain fees.

---

### Why Removing the Extra PQC Step Improves Efficiency

Removing the redundant PQC step:
- reduces cryptographic overhead
- lowers latency per batch
- simplifies operational flow
- avoids unnecessary CPU-intensive signing
- keeps batch anchoring cheap and predictable

Security is not weakened because:
- PQC protection already exists at the root level
- Robot validation enforces correctness before anchoring
- the blockchain only commits to already-verified data

---

### Design Principle

The blockchain is used only for **finality and timestamping**.

Security and correctness are enforced **before** the chain.

Cost efficiency is achieved by:
- validating once
- aggregating once
- anchoring once

This is what allows Terra Dourada Oracle to scale
while keeping the batch cost **near zero**.
